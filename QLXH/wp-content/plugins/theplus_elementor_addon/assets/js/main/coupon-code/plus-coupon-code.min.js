!function(){"use strict";function e(e,Q){var j=e[0].querySelectorAll(".tp-coupon-code");j.forEach(c=>{var n,t,i,r,o,d,e,a,l,w=JSON.parse(c.getAttribute("data-tp_cc_settings")),s=c.querySelector(".coupon-front-side"),m=w.fillPercent,u=w.couponType,p=w.actionType,h=w.classname,y=w.scrollon,f=w.extlink,v=w.sclheight,x=".tp-widget-"+w.id;if("standard"==u&&"popup"==p&&"yes"==y){let e=jQuery(x).find(".ccd-main-modal");e.each(function(){Q(this)[0].clientHeight>=v&&(Q(this).addClass(h),Q(this).css("max-height",v))})}"standard"==u?(n=".tp-widget-"+w.id,x="#tp-widget-"+w.id,t="#tp-widget-"+w.id,e=".tp-widget-"+w.id+" .coupon-btn-link",i=w&&w.copy_code_style?w.copy_code_style:"",r=w.cstm_stdBtn_wdth,"popup"==p?(o=w&&w.after_copy_text?w.after_copy_text:"",d=w&&w.copy_btn_text?w.copy_btn_text:"",jQuery(e).on("click",function(e){jQuery(n).find(".copy-code-wrappar").addClass("active"),jQuery(n).find(".full-code-text").addClass("tp-code-popup"),jQuery(document).on("click",".copy-code-btn",function(){var e=c.querySelector(".full-code-text").innerText;let t=document.createElement("textarea");t.opacity="0",t.value=e,document.body.append(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),jQuery(this).text(o),setTimeout(function(){jQuery(n+" .copy-code-btn").text(d)},2e3)})}),jQuery(".tp-ccd-closebtn, .copy-code-wrappar").on("click",function(){jQuery(".copy-code-wrappar").removeClass("active"),location.hash="",window.history.pushState("",document.title,window.location.pathname)}),Q(j).hasClass("tp-tab-cop-rev")&&(jQuery(document).on("click",".copy-code-btn",function(){var e=c.querySelector(".full-code-text").innerText;let t=document.createElement("textarea");t.opacity="0",t.value=e,document.body.append(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),jQuery(this).text(o),setTimeout(function(){jQuery(n+" .copy-code-btn").text(d)},2e3)}),jQuery(e).on("click",function(e){window.open(window.location+t,"_blank'"),setTimeout(function(){window.location.href=f},100)}),window.location.hash==x&&(jQuery(n).find(".copy-code-wrappar").addClass("active"),jQuery(n).find(".full-code-text").addClass("tp-code-popup")))):"click"==p&&(jQuery(e).on("click",function(e){var t=w&&w.coupon_code?w.coupon_code:"",o="";o+='<div class="copy-'+i+'">',o+='<div class="coupon-code-outer">',o+='<span class="full-code-text">',o+=t,o+="</span>",o+="</div>",o+="</div>",jQuery(this).closest(n+" .coupon-code-inner").replaceWith(o),jQuery(n).find(".tp-coupon-code, .coupon-code-inner").css("width",r+"%"),jQuery(n).find(".full-code-text").css("width",r+"%")}),jQuery(e).hasClass("tp-hl-links")&&jQuery(e).on("click",function(e){e.preventDefault();for(var t=Q(this).data("hlset"),o=0,n=t.length;o<n;++o){var c=t[o];window.open(c,"_blank")}}))):"scratch"==u?html2canvas(c.querySelector(".coupon-front-side"),{allowTaint:!0,backgroundColor:null,windowWidth:jQuery(window).width(),windowHeight:jQuery(window).height(),scrollX:0,scrollY:-window.scrollY}).then(function(a){a.setAttribute("class","coupon-front-side-canvas"),c.prepend(a),jQuery("#front-side-"+w.id,jQuery(c)).fadeOut(300,function(){jQuery(this).remove()});var l,s=(a=c.querySelector("canvas")).width,u=a.height,p=a.getContext("2d"),h=new Image,y=!1;function f(e){return{x:+(e.pageX||e.touches[0].clientX),y:+(e.pageY||e.touches[0].clientY)}}function e(e){y=!0,l=f(e)}function t(e){if(y){e.preventDefault();for(var t,o,n,c=f(e),i=(n=l,e=c,Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))),r=(e=l,n=c,Math.atan2(n.x-e.x,n.y-e.y)),d=0;d<i;d++)t=l.x+Math.sin(r)*d-40,o=l.y+Math.cos(r)*d-40,p.globalCompositeOperation="destination-out",p.drawImage(h,t,o,80,80);l=c,c=function(e){(!e||e<1)&&(e=1);for(var t=p.getImageData(0,0,s,u).data,o=t.length,n=o/e,c=0,i=c=0;i<o;i+=e)0===parseInt(t[i])&&c++;return Math.round(c/n*100)}(32),m<(c=c||0)&&a.parentNode.removeChild(a)}}function o(e){y=!1}h.src="data:image/png;base64,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",a.addEventListener("mousedown",e,!1),a.addEventListener("mousemove",t,!1),a.addEventListener("mouseup",o,!1),a.addEventListener("touchstart",e,!1),a.addEventListener("touchmove",t,!1),a.addEventListener("touchend",o,!1)}):"slideOut"==u?(w.slideDirection,p=jQuery(".coupon-front-side",c),jQuery(".coupon-back-side",c),l=jQuery(c.target).width(),jQuery(c.target).height(),e="left"===w.slideDirection||"right"===w.slideDirection?"x":"y",p.draggable({axis:e,drag:function(e,t){var o=t.position;""!=w.slideDirection&&("left"==w.slideDirection?0<=o.left&&(t.position.left=0):"right"==w.slideDirection?o.left<=0&&(t.position.left=0):"top"==w.slideDirection?0<=o.top&&(t.position.top=0):"bottom"==w.slideDirection&&o.top<=0&&(t.position.top=0))}})):"peel"==u&&(c.classList.add("peel-ready"),u=jQuery(s,jQuery(c)).clone(),jQuery(s,jQuery(c)).addClass("peel-top"),u.removeAttr("id"),u.addClass("peel-back"),u.insertAfter("#front-side-"+w.id),jQuery(".coupon-back-side",jQuery(c)).addClass("peel-bottom"),a=new Peel(".tp-widget-"+w.id,{corner:Peel.Corners.TOP_RIGHT}),l=c.clientWidth,c.clientHeight,a.setPeelPosition(l-30,40),a.setFadeThreshold(.8),a.handleDrag(function(e,t,o){var n=jQuery(c).offset(),t=(t=t-n.left)<0?t*=3:t,n=(n=o-n.top)<0?n*=3:n;.98<this.getAmountClipped()&&(this.removeEvents(),jQuery(".peel-top, .peel-back, .peel-bottom-shadow",jQuery(c)).remove()),a.setPeelPosition(Math.round(t),Math.round(n))}))})}jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/tp-coupon-code.default",e)})}();