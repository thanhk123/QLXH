function playAudio(t,a){stopAllAudio(),a.play(),jQuery("."+t+" .tracker").slider("option","max",a.duration),jQuery("."+t+" .play").addClass("hidden"),jQuery("."+t+" .pause").addClass("visible")}function stopAllAudio(){audioMap.forEach(function(t){t.pause()}),$(".tp-audio-player-wrapper .play").removeClass("hidden"),$(".tp-audio-player-wrapper .pause").removeClass("visible")}function stopAudio(t,a){a.pause(),jQuery("."+t+" .play").removeClass("hidden"),jQuery("."+t+" .pause").removeClass("visible")}function UpdateSeek(t,a){jQuery("."+t+" .currenttime").html(loadformatTime(a))}function loadformatTime(t){var a,e=0,i=0;return 3600<(t=parseInt(t,10))&&(t-=60*(e=parseInt(t/3600,10))*60),60<t&&(t-=60*(i=parseInt(t/60,10))),a=t,t=0<e?e+":":"",t+=0<i?(i<10&&0<e?"0":"")+i+":":"0:",t+=(a<10?"0":"")+a}function loadinitAudio(t,a,e){var i,n=jQuery,l=t.attr("audiourl"),s=t.attr("audioTitle"),r=t.attr("artist"),o=t.attr("data-thumb"),d=n("."+a+" .durationtime");"style-3"==e&&n("."+a+" .tp-player .trackimage img").attr("src",o),"style-4"==e&&n("."+a+" .tp-player").css("background","url("+o+")").css("transition","background 0.5s linear"),"style-5"==e&&n("."+a+" .tp-player .ap-st5-img").css("background","url("+o+")").css("transition","background 0.5s linear"),"style-6"==e&&n("."+a+" .tp-player .ap-st5-content").css("background","url("+o+")").css("transition","background 0.5s linear"),"style-8"==e&&(n("."+a+" .tp-player-bg-img").css("background","url("+o+")"),n("."+a+" .tp-player .trackimage img").attr("src",o)),"style-9"==e&&n("."+a+" .tp-player-bg-img").css("background","url("+o+")"),n("."+a+" .tp-player .title").text(s),n("."+a+" .tp-player .artist").text(r);var u,p=n("."+a+" .tracker");(u=new Audio(l)).addEventListener("timeupdate",function(){var t=parseInt(u.currentTime,10);p.slider("value",t),UpdateSeek(a,i=t),i===Math.round(u.duration)&&(0===(t=n("."+a+" .playlist li.active").next()).length&&(t=n("."+a+" .playlist li:first-child")),initAudio(t,a),u.addEventListener("loadedmetadata",function(){playAudio(a)}))}),u.addEventListener("loadeddata",function(){d.html(loadformatTime(u.duration))},!0),n("."+a+" .playlist li").removeClass("active"),t.addClass("active"),n("."+a+" .vol-icon-toggle").on("click",function(t){t.preventDefault(),n("."+a+" .tp-volume-bg").toggleClass("show")}),n("."+a+" .play").on("click",function(t){t.preventDefault(),u.addEventListener("ended",function(){var t=n("."+a+" .playlist li.active").next();0==t.length&&(t=n("."+a+" .playlist li:first-child")),loadinitAudio(t,a),u.addEventListener("loadedmetadata",function(){playAudio(a,u)})},!1),p.slider("option","max",u.duration),stopAllAudio(),u.play(),n("."+a+" .play").addClass("hidden"),n("."+a+" .pause").addClass("visible")}),n("."+a+" .pause").on("click",function(t){t.preventDefault(),stopAudio(a,u)}),n("."+a+" .fwd").on("click",function(t){t.preventDefault(),stopAudio(a,u);t=n("."+a+" .playlist li.active").next();0===t.length&&(t=n("."+a+" .playlist li:first-child")),loadinitAudio(t,a),u.addEventListener("loadedmetadata",function(){stopAllAudio(),playAudio(a,u)})}),n("."+a+" .rew").on("click",function(t){t.preventDefault(),stopAudio(a,u);t=n("."+a+" .playlist li.active").prev();0===t.length&&(t=n("."+a+" .playlist li:last-child")),loadinitAudio(t,a),u.addEventListener("loadedmetadata",function(){stopAllAudio(),playAudio(a,u)})}),n("."+a+" .playlistIcon").on("click",function(t){t.preventDefault(),n("."+a+" .playlist").toggleClass("show")}),n("."+a+" .playlist li").on("click",function(){stopAudio(a,u),loadinitAudio(n(this),a),u.addEventListener("loadedmetadata",function(){stopAllAudio(),playAudio(a,u)})});p=n("."+a+" .tracker"),t=n("."+a+" .volume"),d=n("."+a+" .durationtime"),n("."+a+" .currenttime"),e=n(this).data("style"),e=n(this).data("apvolume");t.slider({orientation:"vertical",range:"max",max:100,min:1,value:e,start:function(t,a){},slide:function(t,a){u.volume=a.value/100},stop:function(t,a){}}),p.slider({range:"min",min:0,max:100,value:0,start:function(t,a){},slide:function(t,a){u.currentTime=a.value},stop:function(t,a){}})}!function(t){"use strict";function a(t,s){var r,o,a=(e=t.find(".tp-audio-player-wrapper")).data("id"),d=s("."+a+" .tracker"),t=s("."+a+" .volume"),u=s("."+a+" .durationtime"),p=s("."+a+" .currenttime"),c=e.data("style"),e=e.data("apvolume");function v(t,a){var e=t.attr("audiourl"),i=t.attr("audioTitle"),n=t.attr("artist"),l=t.attr("data-thumb");"style-3"==c&&s("."+a+" .tp-player .trackimage img").attr("src",l),"style-4"==c&&s("."+a+" .tp-player").css("background","url("+l+")").css("transition","background 0.5s linear"),"style-5"==c&&s("."+a+" .tp-player .ap-st5-img").css("background","url("+l+")").css("transition","background 0.5s linear"),"style-6"==c&&s("."+a+" .tp-player .ap-st5-content").css("background","url("+l+")").css("transition","background 0.5s linear"),"style-8"==c&&(s("."+a+" .tp-player-bg-img").css("background","url("+l+")"),s("."+a+" .tp-player .trackimage img").attr("src",l)),"style-9"==c&&s("."+a+" .tp-player-bg-img").css("background","url("+l+")"),s("."+a+" .tp-player .title").text(i),s("."+a+" .tp-player .artist").text(n),r=new Audio(e),m.set(this,r),r.addEventListener("timeupdate",function(){var t=parseInt(r.currentTime,10);d.slider("value",t),t=o=t,p.html(f(t)),o===Math.round(r.duration)&&(0===(t=s("."+a+" .playlist li.active").next()).length&&(t=s("."+a+" .playlist li:first-child")),v(t,a),r.addEventListener("loadedmetadata",function(){y(a)}))}),r.addEventListener("loadeddata",function(){u.html(f(r.duration))},!0),s("."+a+" .playlist li").removeClass("active"),t.addClass("active")}function y(t){i(),r.play(),d.slider("option","max",r.duration),s("."+t+" .play").addClass("hidden"),s("."+t+" .pause").addClass("visible")}function i(){m.forEach(function(t){t.pause()}),s(".tp-audio-player-wrapper .play").removeClass("hidden"),s(".tp-audio-player-wrapper .pause").removeClass("visible")}function n(t){r.pause(),s("."+t+" .play").removeClass("hidden"),s("."+t+" .pause").removeClass("visible")}function f(t){var a,e=0,i=0;return 3600<(t=parseInt(t,10))&&(t-=60*(e=parseInt(t/3600,10))*60),60<t&&(t-=60*(i=parseInt(t/60,10))),a=t,t=0<e?e+":":"",t+=0<i?(i<10&&0<e?"0":"")+i+":":"0:",t+=(a<10?"0":"")+a}s("."+a+" .play").on("click",function(t){t.preventDefault(),m.set(this,r),r.addEventListener("ended",function(){var t=s("."+a+" .playlist li.active").next();0==t.length&&(t=s("."+a+" .playlist li:first-child")),v(t,a),r.addEventListener("loadedmetadata",function(){y(a)})},!1),d.slider("option","max",r.duration),i(),r.play(),s("."+a+" .play").addClass("hidden"),s("."+a+" .pause").addClass("visible")}),s("."+a+" .pause").on("click",function(t){t.preventDefault(),n(a)}),s("."+a+" .fwd").on("click",function(t){t.preventDefault(),n(a);t=s("."+a+" .playlist li.active").next();0===t.length&&(t=s("."+a+" .playlist li:first-child")),m.set(this,r),v(t,a),r.addEventListener("loadedmetadata",function(){i(),y(a)})}),s("."+a+" .rew").on("click",function(t){t.preventDefault(),n(a);t=s("."+a+" .playlist li.active").prev();0===t.length&&(t=s("."+a+" .playlist li:last-child")),m.set(this,r),v(t,a),r.addEventListener("loadedmetadata",function(){i(),y(a)})}),s("."+a+" .playlistIcon").on("click",function(t){t.preventDefault(),s("."+a+" .playlist").toggleClass("show")}),s("."+a+" .playlist li").on("click",function(){i(),m.set(this,r),n(a),v(s(this),a),r.addEventListener("loadedmetadata",function(){y(a)})}),v(s("."+a+" .playlist li:first-child"),a),t.slider({orientation:"vertical",range:"max",max:100,min:1,value:e,start:function(t,a){},slide:function(t,a){r.volume=a.value/100},stop:function(t,a){}}),s("."+a+" .vol-icon-toggle").on("click",function(t){t.preventDefault(),s("."+a+" .tp-volume-bg").toggleClass("show")}),d.slider({range:"min",min:0,max:100,value:0,start:function(t,a){},slide:function(t,a){r.currentTime=a.value},stop:function(t,a){}})}var m=new Map;t(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/tp-audio-player.default",a)})}(jQuery);